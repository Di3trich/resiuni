<!DOCTYPE html>
{% load staticfiles %}
<html>
<head>
    <meta name="viewport" content="width=device-width">
    <script src="http://maps.googleapis.com/maps/api/js"></script>
    <script src="{% static 'js/jquery-1.11.3.min.js' %}"></script>
    <script src="/residencias/utils/uri.js"></script>
    <script src="{% static 'js/index.js' %}"></script>
    <script src="{% static 'js/maps.js' %}"></script>
    <link href="{% static 'css/foundation.css' %}" rel="stylesheet"/>
    <link href="{% static 'css/main.css' %}" rel="stylesheet"/>
</head>

<body>

<nav class="top-bar" data-topbar role="navigation" style="z-index:100">
    <ul class="title-area">
        <li class="name">
            <h1><a href="#">ResiUni</a></h1>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <section class="top-bar-section">
        <ul class="right">
            <li class="divider"></li>
            <li>
                <a href="#" id="modal-nueva-residencia">Nueva Residencia</a>
            </li>

        </ul>
        <ul>
            <li class="divider"></li>
            <li class="has-dropdown">
                <a href="#">Institucion</a>
                <ul class="dropdown">
                    {% for row in data %}
                    <li class="has-dropdown">
                        <a href="#">{{row.institucion.name}}</a>
                        <ul class="dropdown">
                            {% for sede in row.sedes %}
                            <li>
                                <a href="#" data-lat="{{sede.latitude}}" data-lng="{{sede.longitude}}" class="sede">{{sede.name}}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </li>
                    {% endfor %}
                </ul>
            </li>
            <li class="divider"></li>
        </ul>
    </section>
</nav>

<div id="content" class="row">
    <div id="side-nav">
        <div class="row">
            <div class="large-12 columns panel">
                <table role="grid">
                    <thead>
                    <th>Tipo</th>
                    <th>Título</th>
                    <th>Genero</th>
                    </thead>
                    <tbody id="lista-residencias">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div id="map"></div>
</div>

<div id="nueva-residencia" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true"
     role="dialog">
    <h2 id="modalTitle">Nueva Residencia</h2>

    <p class="lead">

    <form id="form-nueva-residencia">
        <div class="row">
            <div class="large-6 columns text-center panel">
                <div class="row">
                    <div class="large-12 columns">
                        <div id="map-residencia" style="height:600px"></div>
                    </div>
                </div>
            </div>
            <div class="large-6 columns">
                <div class="row">
                    <div class="large-12 columns">
                        <input type="hidden" name="latitude" id="latitud"/>
                        <input type="hidden" name="longitude" id="longitud"/>
                        <label>
                            Titulo:
                            <input type="text" name="titulo" required/>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="large-6 columns">
                        <label>Tipo de Residencia:
                            <select name="tipo_residencia">
                                {% for row in tipo %}
                                <option value="{{row.name}}">{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </label>
                    </div>
                    <div class="large-6 columns">
                        <label>Genero:
                            <select name="genero">
                                <option value="Masculino y Femenino">Masculino y Femenino</option>
                                <option value="Masculino">Masculino</option>
                                <option value="Femenino">Femenino</option>
                            </select>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="large-12 columns">
                        <label>Dirección:
                            <input type="text" name="direccion" required/>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="large-6 columns">
                        <label>Teléfono 1:
                            <input type="tel" name="phone1" required/>
                        </label>
                    </div>
                    <div class="large-6 columns">
                        <label>Teléfono 2:
                            <input type="tel" name="phone2"/>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="large-12 columns">
                        <label>Correo Electrónico:
                            <input type="email" name="email"/>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="large-12 columns">
                        <label>Descripción:
                            <textarea name="descripcion" id="" cols="12" rows="10" required></textarea>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="large-6 columns">
                        <label>Precios desde:
                            <input type="number" name="price_from" required>
                        </label>
                    </div>
                    <div class="large-6 columns">
                        <label>Precios hasta:
                            <input type="number" name="price_until" required>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="large-12 columns">
                        <input type="submit" value="Registrar Residencia" class="button active"/>
                    </div>
                </div>
            </div>
        </div>
    </form>
    </p>
    <a class="close-reveal-modal" aria-label="Close">&#215;</a>
</div>

<script src="{% static 'js/foundation/foundation.js' %}"></script>
<script src="{% static 'js/foundation/foundation.topbar.js' %}"></script>
<script src="{% static 'js/foundation/foundation.reveal.js' %}"></script>
<script>
$(document).foundation();

</script>
</body>
</html>